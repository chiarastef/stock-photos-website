{"version":3,"sources":["Photo.js","App.js","index.js"],"names":["Photo","props","className","src","photo","urls","regular","alt","description","user","name","likes","href","portfolio_url","profile_image","small","App","useState","loading","setLoading","photos","setPhotos","pages","setPages","query","setQuery","searchWord","setSearchWord","getPhotos","useCallback","a","url","process","fetch","response","json","data","prevState","results","useEffect","handleScroll","window","innerHeight","scrollY","document","body","scrollHeight","addEventListener","removeEventListener","onSubmit","e","preventDefault","type","placeholder","value","onChange","target","map","index","key","ReactDOM","render","StrictMode","getElementById"],"mappings":"6PA0BeA,EAxBD,SAACC,GACb,OACE,6BAASC,UAAU,SACjB,yBACEC,IAAKF,EAAMG,MAAMC,KAAKC,QACtBC,IAAKN,EAAMG,MAAMI,aAAe,UAElC,yBAAKN,UAAU,cACb,6BACE,4BAAKD,EAAMG,MAAMK,KAAKC,MACtB,2BAAIT,EAAMG,MAAMO,MAAhB,WAEF,uBAAGC,KAAMX,EAAMG,MAAMK,KAAKI,eACxB,yBACEV,IAAKF,EAAMG,MAAMK,KAAKK,cAAcC,MACpCR,IAAKN,EAAMG,MAAMK,KAAKC,KACtBR,UAAU,iBCgFPc,MA3Ff,WAAgB,IAAD,EACiBC,oBAAS,GAD1B,mBACNC,EADM,KACGC,EADH,OAEeF,mBAAS,IAFxB,mBAENG,EAFM,KAEEC,EAFF,OAGaJ,mBAAS,GAHtB,mBAGNK,EAHM,KAGCC,EAHD,OAIaN,mBAAS,IAJtB,mBAINO,EAJM,KAICC,EAJD,OAKuBR,mBAAS,IALhC,mBAKNS,EALM,KAKMC,EALN,KAOPC,EAAYC,sBAAW,sBAAC,gCAAAC,EAAA,6DAC5BX,GAAW,GAEPY,EAAM,GAGRA,EADEL,EACC,UAfM,0CAeN,sBAA6BM,8CAA7B,iBAAmEV,EAAnE,kBAAkFI,GAElF,UAlBI,mCAkBJ,sBAA2BM,8CAA3B,iBAAiEV,GAR1C,SAWLW,MAAMF,GAXD,cAWtBG,EAXsB,gBAYTA,EAASC,OAZA,OAYtBC,EAZsB,OAc5Bf,GAAU,SAACgB,GACT,OAAIX,GAAwB,IAAVJ,EACTc,EAAKE,QAEN,GAAN,mBAAWD,GADFX,EACT,YAAyBU,EAAKE,SAE9B,YAAyBF,OAI7BjB,GAAW,GAxBiB,4CAyB3B,CAACG,EAAOI,IA+BX,OA7BAa,qBAAU,WACRX,MACC,CAACN,EAAOM,IAEXW,qBAAU,WACR,SAASC,IACHC,OAAOC,YAAcD,OAAOE,SAAWC,SAASC,KAAKC,eACvDvB,GAAS,SAACc,GAAD,OAAeA,EAAY,KACpClB,GAAW,IAKf,OAFAsB,OAAOM,iBAAiB,SAAUP,GAE3B,WACLC,OAAOO,oBAAoB,SAAUR,MAEtC,IAcD,8BACE,6BAAStC,UAAU,UACjB,0BAAMA,UAAU,cAAc+C,SAVpC,SAAsBC,GACpBA,EAAEC,iBACF5B,EAAS,GACTI,EAAcH,GACdI,MAOM,2BACEwB,KAAK,OACLC,YAAY,SACZnD,UAAU,aACVoD,MAAO9B,EACP+B,SApBV,SAAsBL,GACpBzB,EAASyB,EAAEM,OAAOF,UAqBZ,4BAAQF,KAAK,SAASlD,UAAU,cAC9B,kBAAC,IAAD,SAIN,6BAASA,UAAU,UACjB,yBAAKA,UAAU,iBACZkB,EAAOqC,KAAI,SAACrD,EAAOsD,GAClB,OAAO,kBAAC,EAAD,CAAOC,IAAKD,EAAOtD,MAAOA,QAGpCc,GAAW,wBAAIhB,UAAU,WAAd,iBCvFpB0D,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFlB,SAASmB,eAAe,W","file":"static/js/main.58e6cab9.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Photo = (props) => {\n  return (\n    <article className=\"photo\">\n      <img\n        src={props.photo.urls.regular}\n        alt={props.photo.description || \"photo\"}\n      />\n      <div className=\"photo-info\">\n        <div>\n          <h4>{props.photo.user.name}</h4>\n          <p>{props.photo.likes} likes</p>\n        </div>\n        <a href={props.photo.user.portfolio_url}>\n          <img\n            src={props.photo.user.profile_image.small}\n            alt={props.photo.user.name}\n            className=\"user-img\"\n          />\n        </a>\n      </div>\n    </article>\n  );\n};\n\nexport default Photo;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { FaSearch } from \"react-icons/fa\";\nimport Photo from \"./Photo\";\n\nconst mainUrl = `https://api.unsplash.com/photos/`;\nconst searchUrl = `https://api.unsplash.com/search/photos/`;\n\nfunction App() {\n  const [loading, setLoading] = useState(false);\n  const [photos, setPhotos] = useState([]);\n  const [pages, setPages] = useState(1);\n  const [query, setQuery] = useState(\"\");\n  const [searchWord, setSearchWord] = useState(\"\");\n\n  const getPhotos = useCallback(async () => {\n    setLoading(true);\n\n    let url = \"\";\n\n    if (searchWord) {\n      url = `${searchUrl}?client_id=${process.env.REACT_APP_API_KEY}&page=${pages}&query=${searchWord}`;\n    } else {\n      url = `${mainUrl}?client_id=${process.env.REACT_APP_API_KEY}&page=${pages}`;\n    }\n\n    const response = await fetch(url);\n    const data = await response.json();\n\n    setPhotos((prevState) => {\n      if (searchWord && pages === 1) {\n        return data.results;\n      } else if (searchWord) {\n        return [...prevState, ...data.results];\n      } else {\n        return [...prevState, ...data];\n      }\n    });\n\n    setLoading(false);\n  }, [pages, searchWord]);\n\n  useEffect(() => {\n    getPhotos();\n  }, [pages, getPhotos]);\n\n  useEffect(() => {\n    function handleScroll() {\n      if (window.innerHeight + window.scrollY >= document.body.scrollHeight) {\n        setPages((prevState) => prevState + 1);\n        setLoading(false);\n      }\n    }\n    window.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  function handleChange(e) {\n    setQuery(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setPages(1);\n    setSearchWord(query);\n    getPhotos();\n  }\n\n  return (\n    <main>\n      <section className=\"search\">\n        <form className=\"search-form\" onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            placeholder=\"search\"\n            className=\"form-input\"\n            value={query}\n            onChange={handleChange}\n          />\n          <button type=\"submit\" className=\"submit-btn\">\n            <FaSearch />\n          </button>\n        </form>\n      </section>\n      <section className=\"photos\">\n        <div className=\"photos-center\">\n          {photos.map((photo, index) => {\n            return <Photo key={index} photo={photo} />;\n          })}\n        </div>\n        {loading && <h2 className=\"loading\">Loading...</h2>}\n      </section>\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}